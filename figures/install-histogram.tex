\begin{tikzpicture}[thick]
	% Preprocess the data for plotting
	\buildfile{Rscript data/build_connection_log.R {output}}{.csv}
	
	\begin{axis}[ ybar stacked
	            , ymin=0
	            , xmin=0
	            , width=\textwidth
	            , height=6cm
	            , xlabel=Cable install time (\si{\second})
	            , ylabel=Count
	            , reverse legend
	            %, tick align=inside
	            ]
		\addplot [white,draw opacity=0,fill=cb3class0] table [x=duration, y=intra_frame, col sep=comma]
		         {\filename};
		\addplot [white,draw opacity=0,fill=cb3class1] table [x=duration, y=inter_frame, col sep=comma]
		         {\filename};
		\addplot [white,draw opacity=0,fill=cb3class2] table [x=duration, y=inter_cabinet, col sep=comma]
		         {\filename};
		
		\legend{Intra-frame,Inter-frame,Inter-cabinet}
	\end{axis}
\end{tikzpicture}

