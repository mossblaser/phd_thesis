\chapter{Building large SpiNNaker machines}
	
	When physically constructing a large super computer the network topology used
	can have a huge impact on the cost, complexity and effort involved in the
	process. This chapter describes the approaches used to design conventional
	torus-based super computer installations which ensure that cable lengths
	remain manageable and ensure a technician is realistically able to connect
	them. These approaches, unfortunately, do not extend directly to hexagonal
	torus topologies and so a number of new techniques are described which allow
	large hexagonal-torus based systems to be constructed. The chapter concludes
	by describing the successful application of these techniques to very large
	SpiNNaker machines.
	
	\section{Related work}
		
		Conventionally, the design process for the physical arrangement of network
		nodes in datacenter racks is broken into two steps:
		
		\begin{enumerate}
			
			\item Partitioning the network into easily manufacturered components
			(e.g. circuit boards).
			
			\item Laying out the machine to avoid the need for (expensive) long
			cables.
		
		\end{enumerate}
		
		Finally, once the physical layout is designed, a technician is required to
		assemble the final machine. This process is often non-trivial and thus
		various techniques exist which attempt to simplify the task.
		
		\subsection{Partitioning hexagonal toruses}
			
			The nodes in most super computer networks are relatively fine-grained by
			comparison with their physical construction in order to make construction
			more practical. For example, a single circuit board may contain tens or
			even hundreds of nodes \cite{gilge14,ajima12}. The majority of commercial
			super computers use torus topologies partitioned into hypercubes
			\cite{chen11,ajima12} for which the analogue in a hexagonal torus
			topology is a parallelogram as illustrated in figure
			\ref{fig:parallelogramPartitioning}.
			
			\begin{figure}
				\center
				\input{figures/parallelogramPartitioning}
				
				\caption{Partitioning of a hexagonal torus into parallelograms.}
				\label{fig:parallelogramPartitioning}
			\end{figure}
			
			Each partition connects to six neighbouring partitions and, unlike
			hypercube partitions, the number of connections to each is imbalanced.
			Specifically the partitions above-right and below-left are connected by
			only one link each. The consequence is potentially a need for multiple
			types of interconnect for connecting partitioned pieces of the system,
			adding both to design complexity and cost.
		
		\subsection{Folding regular toruses}
			
			
		
		\subsection{Cabling installation}
	
	\section{Folding hexagonal toruses}
		\subsection{Transformation}
		\subsection{Uncrinkling}
		\subsection{Folding}
	\section{Installation}
		\subsection{Cable selection}
		\subsection{Installation ordering}
		\subsection{Interactive technician guidance}
		\subsection{Validation}
	\section{Results}
		\subsection{Cable length}
		\subsection{Installation practicality}
