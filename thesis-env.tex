% This \input-able file should be included in the preamble to use and configure
% all LaTeX packages used.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Used packages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% More advanced mathematical typesetting
\usepackage{amsmath}
\usepackage{amssymb}

% Provides \nicefrac for nice fraction formatting
\usepackage{units}

% Nice printing of URLs
\usepackage{url}

% Actually not tear-your-eyes-out-ugly tables
\usepackage{booktabs}

% Support for multiple-row table cells
\usepackage{multirow}

% Adjust linespacing for localised parts of the paper (e.g. abstract)
\usepackage{setspace}

% For the \ifthenelse macro
\usepackage{ifthen}

% For the \degree macro
\usepackage{gensymb}

% For subfigure support
\usepackage{caption}
\usepackage{subcaption}

% SI unit and number formatting (including support for bytes, etc.)
\usepackage[binary-units=true]{siunitx}

% For printing of 'code' etc.
\usepackage{verbatim}

% For syntax highlighting said code.
\usepackage{minted}
\usemintedstyle{lovelace}

% Used to draw labels with a white outline to make them stand-out in diagrams
\usepackage[outline]{contour}

% Provides the displayquote environment for block-quotes
\usepackage{csquotes}

% TikZ + PGF Plots for diagram/plot drawing
\usepackage{tikz}
\usepackage{tikz3d}
\usepackage{pgfplots}
\usetikzlibrary{ hexagon
               , calc
               , backgrounds
               , positioning
               , decorations.pathreplacing
               , decorations.markings
               , arrows
               , arrows.meta
               , positioning
               , automata
               , shadows
               , fit
               , shapes
               , shapes.arrows
               , patterns
               , spy
               , intersections
               , shadings
               }
\usepgfplotslibrary{statistics}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Environment settings
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Specifies the thickness of the contour added by the \contour macro.
\contourlength{1.5pt}

% Define a few layers for TikZ to allow easier layering
\pgfdeclarelayer{bg}
\pgfdeclarelayer{fg}
\pgfsetlayers{bg,main,fg}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Definitions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\inch}{$^{\prime\prime}$}

% Build (and includegraphics a compiled PDF) a LaTeX figure, recompiling only
% if necessary
\newcommand{\buildfig}[1]{%
  \input{|"python buildfig.py #1"}%
  \includegraphics{\filename}%
}

% Execute a script but only if it (or its dependencies) change.
% #1 script name (where {output} is substituted for the filename to produce)
% #2 file extension to add to the output filename
% Sets \filename to the filename passed as argument.
\newcommand{\buildfile}[2]{%
  \input{|"python buildfig.py --extension #2 --script #1"}%
}

% Execute an R script which takes a single argument, a PDF filename, which will
% then be included in the document.
\newcommand{\buildrplot}[1]{%
  \input{|"python buildfig.py --extension .pdf --script Rscript #1 {output}"}%
  \includegraphics{\filename}%
}

% A colour to use when drawing the back of a sheet of paper
\colorlet{paperback}{black!10!white}

% A non-contiguous 2-class gray-scale colour scheme
\colorlet{gray2class0}{white!40!black}
\colorlet{gray2class1}{white!80!black}

% A non-contiguous 3-class gray-scale colour scheme
\colorlet{gray3class0}{white!40!black}
\colorlet{gray3class1}{white!80!black}
\colorlet{gray3class2}{white!60!black}


% Colorbrewer2.org 3-class qualatative Dark2
\definecolor{cb3class0}{RGB}{27,158,119}
\definecolor{cb3class1}{RGB}{217,95,2}
\definecolor{cb3class2}{RGB}{117,112,179}

% Colorbrewer2.org 5-class diverging RdBu
\definecolor{cb5class0}{RGB}{202,0,32}
\definecolor{cb5class1}{RGB}{244,165,130}
\definecolor{cb5class2}{RGB}{247,247,247}
\definecolor{cb5class3}{RGB}{146,197,222}
\definecolor{cb5class4}{RGB}{5,113,176}
